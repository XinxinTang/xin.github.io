<!DOCTYPE html>






  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.2.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.2.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.2.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Xinxin Tang">
<meta property="og:url" content="https://XinxinTang/xinxintang.github.io/index.html">
<meta property="og:site_name" content="Xinxin Tang">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Xinxin Tang">






  <link rel="canonical" href="https://XinxinTang/xinxintang.github.io/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Xinxin Tang</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xinxin Tang</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">A technical blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/30/ML_Basic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/30/ML_Basic/" itemprop="url">
                  ML-Basic
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-30 12:40:35 / Modified: 12:55:23" itemprop="dateCreated datePublished" datetime="2018-05-30T12:40:35-04:00">2018-05-30</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ML-Basic"><a href="#ML-Basic" class="headerlink" title="ML Basic"></a>ML Basic</h1><h2 id="Applications-of-ML"><a href="#Applications-of-ML" class="headerlink" title="Applications of ML"></a>Applications of ML</h2><p>Text Recognition;<br>Spam Filtering;<br>Recommendation System;<br>Medical Diagnosis;<br>Defeat Human;<br>Self-driving Car.</p>
<h2 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h2><p>Supervised learning: learning by examples<br>  Labeled data;<br>  Direct feedback;<br>  Predict outcome/future’</p>
<p>Unsupervised learning: discovering patterns itself<br>  No labels;<br>  No feedback;<br>  Find hidden structure.</p>
<p>Reinforcement learning: feedback right/wrong<br>  Decision process;<br>  Reward system;<br>  Learn series of actions.</p>
<h2 id="Types-of-tasks-of-ML"><a href="#Types-of-tasks-of-ML" class="headerlink" title="Types of tasks of ML"></a>Types of tasks of ML</h2><p>Classification:<br>  Map an element to a category<br>Regression:<br>  Predict numerical values<br>Similarity:<br>  Find more like this<br>Ranking:<br>  Return an ordered list(based on relevance)<br>Sequence Prediction:<br>  Predict the next one in the series</p>
<h1 id="Architectures"><a href="#Architectures" class="headerlink" title="Architectures"></a>Architectures</h1>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/30/ML_NLP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/30/ML_NLP/" itemprop="url">
                  ML-NLP
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-30 12:19:21 / Modified: 12:44:35" itemprop="dateCreated datePublished" datetime="2018-05-30T12:19:21-04:00">2018-05-30</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h1><p>A set of techniques for automated generation, manipulation and analysis of human languages.</p>
<h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h2><p>Processing large amount of texts;<br>Index and search large texts;<br>Speech understanding;<br>Information retrieval;<br>Automatic summarization;<br>Human-Computer Interaction;</p>
<h2 id="Common-Tasks"><a href="#Common-Tasks" class="headerlink" title="Common Tasks"></a>Common Tasks</h2><h3 id="1-Stemming-单词还原"><a href="#1-Stemming-单词还原" class="headerlink" title="1 Stemming(单词还原)"></a>1 Stemming(单词还原)</h3><p>Stemming is the process of reducing inflected words to their word stem, base or root form.(将单词各种时态还原为原始形式)<br><figure class="highlight plain"><figcaption><span>gives, gave, given, giving&#125; --> &#123;give&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">Used widely in normalize text: search engine etc.</span><br><span class="line"></span><br><span class="line">### 2 Part-of-Speech Tagging(POS Tagging)(语法分析)</span><br><span class="line">Given a sentence, determine the part of speech for each word;</span><br><span class="line">Grammatical analysis:nouns, verbs, adjectives, adverbs;</span><br><span class="line">Very difficult because words are ambiguous.</span><br></pre></td></tr></table></figure></p>
<p>  The     ball   is     red.<br>article   noun  verb  adjective<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 3 Parsing(短语构建，划分句子结构)</span><br><span class="line">Determine the parse tree(Grammatical analysis) of a given sentence;</span><br><span class="line">The sentence can be either natural language or program language.</span><br></pre></td></tr></table></figure></p>
<p>  The     boy          went    home.<br>NP(noun phrase)       VP(verb phrase)<br>article   noun         verb    none<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 4 Semantics(语义学)</span><br><span class="line">Machine Translation;机器翻译</span><br><span class="line">Natural Language Generation;自然语义生成</span><br><span class="line">Natural Language Understanding;自然语言理解</span><br><span class="line">Sentiment Analysis;情感分析</span><br><span class="line">Topic Modeling;主题分类</span><br><span class="line"></span><br><span class="line">## TF-IDF</span><br><span class="line">TF-IDF is short for Term Frequency-Inverse Document Frequency.</span><br><span class="line">It measures how important a word is to a document in a collection or corpus.</span><br></pre></td></tr></table></figure></p>
<p>TF for <strong>cat</strong> is (3/100) = 0.03;<br>IDF is log(10,000/1,000) = 4;<br>TF-IDF: 0.03*4 = 0.12<br><code>`</code></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/30/big_data-web_scraper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/30/big_data-web_scraper/" itemprop="url">
                  Big data-web scrapers
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-30 11:22:33 / Modified: 12:18:57" itemprop="dateCreated datePublished" datetime="2018-05-30T11:22:33-04:00">2018-05-30</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Web Scraping is data scraping used for extracting data from websites.</p>
<h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h2><p>Data source:<br>  When service is unavailable<br>Crawler &amp; Indexer:<br>  Offers web data search and data integration<br>Test:<br>  Simulating client behavior to do the testing</p>
<h2 id="Basic-Flow"><a href="#Basic-Flow" class="headerlink" title="Basic Flow"></a>Basic Flow</h2><p>1 Retrieval:get web page<br>2 Analysis: Raw HTML file –&gt; extract useable data</p>
<h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><p>parse the HTML into a structured data then extract the data we want.</p>
<p><strong>Methods</strong><br>1 XPath: XML Path Language is a query language for selecting nodes from an XML document<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/bookstore/book[price&gt;35.00]/title: select all title elements of the book elements of the bookstore element that have a price element with a value greater than 35.00</span><br><span class="line"></span><br><span class="line">//title[@lang=&apos;en&apos;]:selects all title elements that have a &quot;lang&quot; attribute with a value of &quot;en&quot;</span><br><span class="line"></span><br><span class="line">/bookstore/book/[position()&lt;3]:selects the first two book elements that are children of the bookstore element</span><br></pre></td></tr></table></figure></p>
<p>Must know the position or the structure to use XPath.<br><strong>Package in Python</strong>:<figure class="highlight plain"><figcaption><span>lxml import html```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2 Regular Expression:</span><br><span class="line">**Package in Python**: ```import re</span><br></pre></td></tr></table></figure></p>
<p>3 Beautiful Soup:<br><strong>Package in Python</strong>:<code>from bs4 import BeautifulSoup</code></p>
<h2 id="Simple-Python-Scraper"><a href="#Simple-Python-Scraper" class="headerlink" title="Simple Python Scraper"></a>Simple Python Scraper</h2><p>Basic flow:<br>1 Request Web server to retrieve HTML content:<strong>requests</strong><br>2 Parse the HTML into structured data:<strong>lxml</strong><br>3 Use XPath and Regex to extract useful information:<strong>lxml, re</strong><br>4 Store the information:<strong>pymongo</strong></p>
<h2 id="Integration-with-RabbitMQ"><a href="#Integration-with-RabbitMQ" class="headerlink" title="Integration with RabbitMQ"></a>Integration with RabbitMQ</h2><p>Why integrating with queue?<br>1 Store scraping tasks temporarily<br>2 Make scraper running continuously<br>3 Let scraper feed itself<br>4 Coordinate multiple scrapers working together</p>
<h2 id="Avoid-blocking"><a href="#Avoid-blocking" class="headerlink" title="Avoid blocking"></a>Avoid blocking</h2><p>Scraping is a gray area:<br>  Data is priceless;<br>  Great pressure on target website;<br>  Scraping is usually unauthorized.<br><strong>Methods</strong>:<br>1 Limit Scraping Rate:<br>2 Follow Website’s <strong>robots.txt</strong><br>3 User Agent: A web browser telling a web site information about operating system.<br>4 Proxy<br>5 TOR(The Onion Router):<code>Packages: socks, socket</code>Tor directs Internet traffic through a free, worldwide, volunteer network consisting of more than seven thousand relays.<br>6 Captcha<br>7 One-click Captcha:<br>  Criteria:<br>    1)Behavior prior to clicking<br>    2)Cursor movement(path/acceleration)-PC<br>    3)Test against your browser<br>    4)Cookie<br>    5)History</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/29/Front_end-information/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/29/Front_end-information/" itemprop="url">
                  Front end-Security
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-29 21:28:30" itemprop="dateCreated datePublished" datetime="2018-05-29T21:28:30-04:00">2018-05-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-30 00:16:59" itemprop="dateModified" datetime="2018-05-30T00:16:59-04:00">2018-05-30</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><p>Cookie is a small piece of data sent from a website and stored on the user’s computer by the user’s web browser while the user is browsing.</p>
<h2 id="Why-Cookie"><a href="#Why-Cookie" class="headerlink" title="Why Cookie?"></a>Why Cookie?</h2><p>To remember stateful information:<br>  is logged in?<br>  shopping car<br>  state on filling a long form<br>  browse history(ads)</p>
<h2 id="Principle"><a href="#Principle" class="headerlink" title="Principle"></a>Principle</h2><p>Server uses “Set-Cookie” to pass a cookie to Client;<br>Client uses “Cookie” to pass a cookie back to Server.</p>
<p>Browser sends a HTTP GET request;<br>Server sends a HTTP GET response with Set-Cookie;<br>Browser sends the Cookie in following requests.</p>
<h1 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h1><p>we sue Cookie to implement Session.</p>
<h1 id="Password"><a href="#Password" class="headerlink" title="Password"></a>Password</h1><p>We never want to store Plain password.</p>
<p>Hash function: SHA1(Still not safe); MD5(MD5 is broken ,never use it);</p>
<p>Issues:<br>Rainbow table attack;<br>Password Collision.</p>
<h2 id="SHA1-with-SALT"><a href="#SHA1-with-SALT" class="headerlink" title="SHA1 with SALT"></a>SHA1 with SALT</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f(password, salt) = hash(password + salt)</span><br></pre></td></tr></table></figure>
<p>generating a random salt makes the password harder to be broken.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hash([provided password] + [stored salt]) == [stored hash]</span><br></pre></td></tr></table></figure></p>
<p>the user is authenticated.</p>
<h2 id="SHA1-with-SALT-is-not-100"><a href="#SHA1-with-SALT-is-not-100" class="headerlink" title="SHA1 with SALT is not 100%"></a>SHA1 with SALT is not 100%</h2><p>it just adds extra effort to crack a password;<br>binary and data should be isolated;<br>focus more on web related security;<br>social engineering &amp; phishing can make all protections.(主要攻破途径)</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/27/big_data_SOA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/big_data_SOA/" itemprop="url">
                  big data-Service Oriented Architecture
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-27 23:20:35" itemprop="dateCreated datePublished" datetime="2018-05-27T23:20:35-04:00">2018-05-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-29 00:36:41" itemprop="dateModified" datetime="2018-05-29T00:36:41-04:00">2018-05-29</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Service-Oriented-Architecture"><a href="#Service-Oriented-Architecture" class="headerlink" title="Service-Oriented Architecture:"></a>Service-Oriented Architecture:</h1><p><strong>Benefits</strong><br> Isolation:<br>   language, technology, tools<br>   decoupling, independency<br>   deployment and maintenance<br> Ownership: minimal gray area and gap<br> Scalability: easy to scale up and modify<br><strong>Cons</strong><br>Complexity: sometimes unnecessary<br>Latency: Network communication eats time<br>Test effort: all services require E2E tests<br>DevOp, On-call</p>
<h1 id="APIs"><a href="#APIs" class="headerlink" title="APIs"></a>APIs</h1><p>An Application Programming Interface(API) is best though of as a contract provided by one piece of computer software to another.</p>
<h2 id="Classification-of-APIs"><a href="#Classification-of-APIs" class="headerlink" title="Classification of APIs"></a>Classification of APIs</h2><p>Web Service APIs: SOAP, XML-RPC, JSON-RPC, REST<br>Library-based APIs: JavaScript(Google Map APIs)<br>Class-based APIs: Java API, Android API<br>OS functions and Routines: File system, user interface<br>Hardware APIs: Cameras</p>
<h2 id="RPC-v-s-REST"><a href="#RPC-v-s-REST" class="headerlink" title="RPC v.s. REST"></a>RPC v.s. REST</h2><p><strong>RPC</strong><br>Remote Procedure Call is a protocol that one program can use to request a service from a program located in another computer on a network on a network without having to understand the network’s details</p>
<p>RPC call is more like a local function call<br>E.g.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://&lt;host&gt;:&lt;port&gt;/service?request=GetOrders?orderId=123</span><br></pre></td></tr></table></figure></p>
<p><strong>Representational State Transfer</strong><br>is an architecture style for designing networked applications. The idea is that, rather than using complex mechanisms such as CORBA, RPC or SOAP to connect between machines, simple HTTP is used to make calls between machines.</p>
<p>REST is like a HTTP request.</p>
<p>E.g.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://&lt;host&gt;:&lt;port&gt;/service/orders?orderId=123</span><br></pre></td></tr></table></figure></p>
<h3 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h3><p><strong>RPC</strong><br>Pros:<br>Action Oriented;<br>RPC is transparent: it is like a local procedure call;<br>RPC is strictly defined: client must know method name, arguments and types to make a call;<br>RPC is heavily used in big tech companies<br>适合SOA架构，API定义清晰</p>
<p>Cons:<br>RPC is difficult to modify: both server and client need to change.</p>
<p><strong>REST</strong><br>Pros:<br>Resource oriented;<br>Easy to modify: client doesn’t need to dependent on method name, arguments or types. It depends on message format;<br>Easy to cache.<br>适合前端架构</p>
<p>Cons:<br>Format can be changed;<br>Hard to do authentication.</p>
<h2 id="JSON-RPC-vs-XML-RPC"><a href="#JSON-RPC-vs-XML-RPC" class="headerlink" title="JSON RPC vs XML-RPC"></a>JSON RPC vs XML-RPC</h2><p>JSON: less space; easy to read</p>
<p>Package: <strong>pyjsonrpc</strong></p>
<h1 id="API-design"><a href="#API-design" class="headerlink" title="API design"></a>API design</h1><h2 id="why-API-design-important"><a href="#why-API-design-important" class="headerlink" title="why API design important?"></a>why API design important?</h2><p>APIs can be one of greatest assets of companies<br>API can also be one of greatest liabilities of companies<br>Public APIs are forever</p>
<h2 id="Why-API-design-important-to-YOU"><a href="#Why-API-design-important-to-YOU" class="headerlink" title="Why API design important to YOU?"></a>Why API design important to YOU?</h2><p>We are natural API designers;<br>Useful modules tend to get reused;<br>Good API means great code quality.</p>
<h2 id="Characteristics-of-Good-APIs"><a href="#Characteristics-of-Good-APIs" class="headerlink" title="Characteristics of Good APIs"></a>Characteristics of Good APIs</h2><p>Easy to learn and use with good documentation;<br>Hard to misuse;<br>Easy to read and maintain the code that uses it;<br>Sufficient powerful to satisfy requirements;<br>Easy to extend.</p>
<h1 id="API-design-principles"><a href="#API-design-principles" class="headerlink" title="API design principles"></a>API design principles</h1><p>Functionality should be easy to explain;<br>If it’s hard to name, that’s generally a bad sign;<br>Good names drive development.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/27/big_data_database-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/big_data_database-2/" itemprop="url">
                  Big Data-Databases No-SQL
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-27 15:20:35" itemprop="dateCreated datePublished" datetime="2018-05-27T15:20:35-04:00">2018-05-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-28 15:23:21" itemprop="dateModified" datetime="2018-05-28T15:23:21-04:00">2018-05-28</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NoSQL-databases"><a href="#NoSQL-databases" class="headerlink" title="NoSQL databases"></a>NoSQL databases</h1><h2 id="Categories"><a href="#Categories" class="headerlink" title="Categories"></a>Categories</h2><p>K/V Store: Dynamo, Redis<br>Document-based Store: Mongodb (Save as document type)<br>Column-based Store: Big Table, HBase, Cassandra (有助于查询与分布式存储)</p>
<h2 id="CAP-theorem"><a href="#CAP-theorem" class="headerlink" title="CAP theorem"></a>CAP theorem</h2><p>Consistency<br>Availability<br>Partition</p>
<p>Distributed database is doing a trade-off between Consistency and Availability.<br>Most distributed database is “eventually consistency” in order to get high availability.</p>
<h2 id="DB-1-MongoDB"><a href="#DB-1-MongoDB" class="headerlink" title="DB-1 MongoDB"></a>DB-1 MongoDB</h2><h3 id="1-Document-oriented"><a href="#1-Document-oriented" class="headerlink" title="1 Document oriented"></a>1 Document oriented</h3><p><strong>Documents map nicely programming language data types</strong>:直接将PHP array, JAVA Bean, Python Dictionary, JavaScript Object数据导入Document中。<br><strong>Embedded documents reduce the need for joins</strong><br><strong>Dynamic schema makes change easier</strong><br><strong>JSON-style, stored as BSON</strong></p>
<h3 id="2-JSON"><a href="#2-JSON" class="headerlink" title="2 JSON"></a>2 JSON</h3><p>JSON-JavaScript Object Notation<br>a syntax for storing and exchanging data<br>an easier-to-use alternative to XML<br>more human friendly<br>less data size<br>easier to read</p>
<p><strong>BSON</strong><br>Binary JSON used in MongoDB<br>Compared to JSON, BSON is designed to be efficient both in storage space and scan-speed.</p>
<p>存储时转为BSON,读取数据转化为JSON</p>
<h3 id="3-High-Performance"><a href="#3-High-Performance" class="headerlink" title="3 High Performance"></a>3 High Performance</h3><p>Written in C++;<br>Use of memory mapped files;<br>Serialization in BSON for fast parsing;<br>Indexes can include keys from embedded documents</p>
<h3 id="High-Scalable"><a href="#High-Scalable" class="headerlink" title="High Scalable"></a>High Scalable</h3><p>Vertical scaling v.s. Horizontal scaling<br>MongoDB supports horizontal scaling through sharding</p>
<h3 id="Structures"><a href="#Structures" class="headerlink" title="Structures"></a>Structures</h3><p>A MongoDB instance may have zero or more databases<br>A database may have zero or more collections<br>  can be though of as the relation(table) in SQL database<br>A collection may have zero or more Documents<br>  Docs in the same collection don’t even need to have the same fields<br>  Docs are the records in RDBMS<br>  A document may have one or more fields<br>MongoDB indexes is much like their RDBMS counterparts</p>
<h3 id="Pros"><a href="#Pros" class="headerlink" title="Pros"></a>Pros</h3><p>Simple queries;<br>Much faster than SQL database<br>Easier and faster integration of data</p>
<h2 id="Cons"><a href="#Cons" class="headerlink" title="Cons"></a>Cons</h2><p>not well suited for heavy and complex transactions systems</p>
<h3 id="PyMongo"><a href="#PyMongo" class="headerlink" title="PyMongo"></a>PyMongo</h3><p>Super easy to use;<br>Thread safe;<br>Built-in connection pool when using MongoClient;<br>  No need to explicitly close to a connection</p>
<p><strong>Steps</strong><br>1 Create a client connecting to MongoDB instance on 27017<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from pymongo import MongoClient</span><br><span class="line"></span><br><span class="line">client = MongoClient(&apos;localhost:27017&apos;)</span><br><span class="line">db = client.real_estate_smart_view</span><br></pre></td></tr></table></figure></p>
<p>read_estate_smart_view: database name</p>
<p>2 Insert a new document<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.insert(&#123;&quot;Last name&quot;: &quot;Wang&quot;, &quot;First name&quot;: &quot;Wei&quot;&#125;)</span><br></pre></td></tr></table></figure></p>
<p>3 Query a document<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.find(&#123;&quot;Last name&quot;:&quot;Mao&quot;&#125;)</span><br></pre></td></tr></table></figure></p>
<p>4 Update an existing document<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(</span><br><span class="line">  &#123;&quot;Last name&quot;: &quot;Mao&quot;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;$set&quot;:&#123;</span><br><span class="line">      &quot;First name&quot;: &quot;Qian&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  )</span><br></pre></td></tr></table></figure></p>
<p>$set is a update operator which is to set the field of using the provided value</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/27/big_data_message_queue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/big_data_message_queue/" itemprop="url">
                  big data-Message Queue
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-27 15:20:35" itemprop="dateCreated datePublished" datetime="2018-05-27T15:20:35-04:00">2018-05-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-29 00:03:18" itemprop="dateModified" datetime="2018-05-29T00:03:18-04:00">2018-05-29</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Message queue is a queue of messages sent between applications.</p>
<p>Message queues provide an asynchronous communications protocol, meaning that the sender and receiver of the message do not need to interact with the message queue at the same time.</p>
<h1 id="What-is-Message-Queues"><a href="#What-is-Message-Queues" class="headerlink" title="What is Message Queues?"></a>What is Message Queues?</h1><p>An application framework for sending and receiving messages;<br>A way to communicate between applications/systems;<br>A way to decouple components;<br>A way to offload work(handle to another worker)</p>
<h1 id="Common-use-cases"><a href="#Common-use-cases" class="headerlink" title="Common use cases"></a>Common use cases</h1><p>1 Allow web servers to respond to request quickly instead of being forced to perform resource-heavy procedures;<br>2 Able to distribute a message to multiple recipients for consumption or for balancing loads between workers.</p>
<h1 id="Message-Queue-in-real-life"><a href="#Message-Queue-in-real-life" class="headerlink" title="Message Queue in real life"></a>Message Queue in real life</h1><p>Image resizing<br>Video processing<br>Sending out Emails (Ad Campaigns)<br>Log Analysis</p>
<h1 id="Message-Queue-Protocol"><a href="#Message-Queue-Protocol" class="headerlink" title="Message Queue Protocol"></a>Message Queue Protocol</h1><p>AMQP: Advanced Message Queue Protocol (RabbitMQ)<br>STOMP: Streaming Text Oriented Messaging Protocol (ActiveMQ)<br>XMPP: Extensible Messaging and Presence Protocol</p>
<h1 id="AMQP"><a href="#AMQP" class="headerlink" title="AMQP"></a>AMQP</h1><p><strong>Network wire-level Protocol</strong><br>  Defines how clients and brokers talk<br>  Data serialization, heartbeat<br><strong>AMQP Model</strong><br>  Defines routing and storing of messages<br>  Defines rules how these are wired together<br>  Exported API<br>  Exchange</p>
<h2 id="Queues"><a href="#Queues" class="headerlink" title="Queues"></a>Queues</h2><p>consumer gets a message from a queues;<br>Store message;(short time, has expire time)<br>FIFO;<br>Queues can be dynamic;<br>One message from a queue goes only to one consumer</p>
<h2 id="Exchanges"><a href="#Exchanges" class="headerlink" title="Exchanges"></a>Exchanges</h2><p>Route messages<br>Publisher sends a message to exchange<br>Can switch between different routing algorithm</p>
<h3 id="Exchange-type"><a href="#Exchange-type" class="headerlink" title="Exchange type"></a>Exchange type</h3><p>Direct(w/o binding)<br>  point to point communication</p>
<p>Direct (w/binding)<br>  binding provides a selector for routing messages from exchange to Queues<br>  Each queue has a binding queues<br>  Each messages has a binding key used fo routing</p>
<p>Fanout<br>  broadcast messages<br>  routing key is ignored<br>  many queues / many consumers<br>  Duplicate and send same message to all queues</p>
<p>Topic<br>  routing key must be in from of <strong>xxx.xx.xxx</strong><br>  queues can use wild cast to match topics<br>  exchange copies and sends messages to all matching queues</p>
<h1 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h1><p>Implements AMQP<br>Easy to use<br>Runs on all major operating systems<br>Supports a huge number of developer platforms<br>Open source and commercially supported<br>Cloud-based solution: reduce dependency from localhost<br>Lower throughput than Apache Kafka</p>
<p>import pika in python</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/27/big_data_databases-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/big_data_databases-1/" itemprop="url">
                  Big Data-Databases SQL
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-27 14:20:35" itemprop="dateCreated datePublished" datetime="2018-05-27T14:20:35-04:00">2018-05-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-28 15:23:18" itemprop="dateModified" datetime="2018-05-28T15:23:18-04:00">2018-05-28</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Relational-databases"><a href="#Relational-databases" class="headerlink" title="Relational databases:"></a>Relational databases:</h1><p>MySQL, PostgreSQL, SQLite</p>
<p>List all users following bob:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">    User.username</span><br><span class="line">FROM</span><br><span class="line">User</span><br><span class="line">WHERE User.username IN</span><br><span class="line">    SELECT from_user FROM User LEFT JOIN Following</span><br><span class="line">    ON User.user_id = Following.to_user</span><br><span class="line">    WHERE User.username = ‘bob’</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/27/big_data_GFS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/27/big_data_GFS/" itemprop="url">
                  Google File System
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-27 13:20:35" itemprop="dateCreated datePublished" datetime="2018-05-27T13:20:35-04:00">2018-05-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-28 14:37:08" itemprop="dateModified" datetime="2018-05-28T14:37:08-04:00">2018-05-28</time>
              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>HDFS is similar to GFS<br>To solve how to save data</p>
<p>Metadata:<br>1 File Info: file name, file size, create time<br>2 Index: block 1,2,3…n</p>
<p>Index finds the position of data.</p>
<h2 id="How-to-save-big-file"><a href="#How-to-save-big-file" class="headerlink" title="How to save big file?"></a>How to save big file?</h2><p>save as a chunk instead block<br>1 Chunk = 64 MB; 1 Block = 1024 Bytes<br><strong>Pros</strong><br>less metadata;<br>less network traffic<br><strong>Cons</strong><br>waste space if file is not big enough</p>
<h2 id="How-to-save-huge-file"><a href="#How-to-save-huge-file" class="headerlink" title="How to save huge file?"></a>How to save huge file?</h2><p>Master server + Many chunk servers<br>Master server: save metadata and Index<br>Chunk server: save metadata and chunks</p>
<p>Master server manages all chunk servers</p>
<h2 id="How-to-detect-data-error"><a href="#How-to-detect-data-error" class="headerlink" title="How to detect data error?"></a>How to detect data error?</h2><p>Verify checksum when reading data</p>
<h2 id="How-to-handle-data-error"><a href="#How-to-handle-data-error" class="headerlink" title="How to handle data error?"></a>How to handle data error?</h2><p>Replicas: 3</p>
<h2 id="How-to-restore-chunk"><a href="#How-to-restore-chunk" class="headerlink" title="How to restore chunk?"></a>How to restore chunk?</h2><p>ask master for help to restore</p>
<h2 id="How-to-detect-Chunk-Server-down"><a href="#How-to-detect-Chunk-Server-down" class="headerlink" title="How to detect Chunk Server down?"></a>How to detect Chunk Server down?</h2><p>Heartbeat</p>
<h2 id="How-to-restore-chunk-after-CS-down"><a href="#How-to-restore-chunk-after-CS-down" class="headerlink" title="How to restore chunk after CS down?"></a>How to restore chunk after CS down?</h2><p>if CS down, delete the index and add into repair procedure to restore data based on replicas.<br>Repair priority is based on the number of replicas.</p>
<p>If all replicas loss, the data loss forever.</p>
<h2 id="How-to-avoid-hot-spot-热点数据"><a href="#How-to-avoid-hot-spot-热点数据" class="headerlink" title="How to avoid hot spot? 热点数据"></a>How to avoid hot spot? 热点数据</h2><p>Replicate a chunk into more replicas;<br>Fill the Chunk Server with more space and bandwidth.</p>
<h2 id="How-to-read-data"><a href="#How-to-read-data" class="headerlink" title="How to read data?"></a>How to read data?</h2><p><img src="http://senarukana.github.io/image/gfs-read.png" alt="read"></p>
<h2 id="How-to-write-data"><a href="#How-to-write-data" class="headerlink" title="How to write data?"></a>How to write data?</h2><p><img src="http://senarukana.github.io/image/gfs-read.png" alt="write"></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://XinxinTang/xinxintang.github.io/2018/05/24/Big-data/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinxin Tang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinxin Tang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/24/Big-data/" itemprop="url">
                  Big-data
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-24 14:27:31 / Modified: 21:29:45" itemprop="dateCreated datePublished" datetime="2018-05-24T14:27:31-04:00">2018-05-24</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h1><h2 id="负载均衡算法："><a href="#负载均衡算法：" class="headerlink" title="负载均衡算法："></a>负载均衡算法：</h2><ol>
<li>round-robin轮询法，所有server按顺序轮流分配</li>
<li>minimum connection：first to choose minimize connection, whcih has minimum pressure. If the event takes a long time, use this approach</li>
<li>hash</li>
</ol>
<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>1.解决单点故障：multi-server to keep healthy operation.<br>2.响应慢：增加负载均衡器和服务器，分摊访问压力，提高响应速度.<br>3.建立load balancer cluster to prevent load balancer fails.</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p><a href="https://mp.weixin.qq.com/s/ykL2yj00ZaxhloOd2In9eA" target="_blank" rel="noopener">负载均衡</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Xinxin Tang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">52</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">41</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xinxin Tang</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.2.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.2.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.2.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.2.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.2.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
